<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_tempTitle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Networking Global Variables

//server mode, defalt to host server (1), client mode = 0
global.server_mode = 1;

client_isConnected = false;
server_isConnected = false;



</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Ip adress input switch
enteringIP = false;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///server setup - Chris
globalvar serverMode; //set to 1 for server, 0 for client
serverMode = 0;
globalvar clientPort;
globalvar socketlist;
socketlist = ds_list_create();
clientPort = 15316;
globalvar sState;
if(serverMode==1){
sState = network_create_server(network_socket_tcp , clientPort, 1);
if sState &lt; 0{
///error here
}
else{
show_debug_message("Listening on " + string(clientPort));
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///CO select

var maxCO = 10 ;

if keyboard_check_pressed( ord("1"))
    {
    if ( global.P1_CO &lt; maxCO ) global.P1_CO += 1 ;
    else                        global.P1_CO  = 0 ;
    }
    
if keyboard_check_pressed( ord("2"))
    {
    if ( global.P2_CO &lt; maxCO ) global.P2_CO += 1 ;
    else                        global.P2_CO  = 0 ;
    }
    
if keyboard_check_pressed( ord("3"))
    {
    if ( global.P3_CO &lt; maxCO ) global.P3_CO += 1 ;
    else                        global.P3_CO  = 0 ;
    }
    
if keyboard_check_pressed( ord("4"))
    {
    if ( global.P4_CO &lt; maxCO ) global.P4_CO += 1 ;
    else                        global.P4_CO  = 0 ;
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///team select

var maxteam = 4 ;

if keyboard_check_pressed( ord("Q"))
    {
    if ( global.P1_Team &lt; maxteam ) global.P1_Team += 1 ;
    else                            global.P1_Team  = 1 ;
    }
    
if keyboard_check_pressed( ord("W"))
    {
    if ( global.P2_Team &lt; maxteam ) global.P2_Team += 1 ;
    else                            global.P2_Team  = 1 ;
    }
    
if keyboard_check_pressed( ord("E"))
    {
    if ( global.P3_Team &lt; maxteam ) global.P3_Team += 1 ;
    else                            global.P3_Team  = 1 ;
    }
    
if keyboard_check_pressed( ord("R"))
    {
    if ( global.P4_Team &lt; maxteam ) global.P4_Team += 1 ;
    else                            global.P4_Team  = 1 ;
    }
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///enter ip address
if enteringIP global.serverAddr = keyboard_string;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="68">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Server Listening


var n_id = ds_map_find_value(async_load, "id");         //get the id of the socket receiving the data
if n_id == sState                                //check id to make sure it is that of the server socket
    {
    var t = ds_map_find_value(async_load, "type");          //get the type of network event
    if t == network_type_connect                            //if it is a connect event 
        {                                                   //get the socket id of the connection
        var sock = ds_map_find_value(async_load, "socket"); //and store it in a variable
        show_debug_message(string(sock));
        ds_list_add(socketlist, sock);  
        show_debug_message(string(ds_list_find_value(socketlist, 0)));
        show_debug_message("Client has connected");                    //then write it to a ds_list for future reference
        client_isConnected = true;
        }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///draw stuff
draw_self();

draw_text(227,157,"Prototype (v3.11 B)");

draw_text(227,210-16,"F1: Start Game");
draw_text(227,210+00,"F2: Map Editor");
draw_text(227,210+16,"F4: Load Save");

draw_text(227, 210 + 16*3 , "P1. Cookieland   CO : " + string(global.P1_CO));
draw_text(227, 210 + 16*4 , "P2. Pepperland CO : " + string(global.P2_CO)); 
draw_text(227, 210 + 16*5 , "P3. Marmalland CO : " + string(global.P3_CO)); 
draw_text(227, 210 + 16*6 , "P4. Pretzeland CO : " + string(global.P4_CO));


draw_text(400, 210 + 16*3 , "P1.Team : " + string(global.P1_Team));
draw_text(400, 210 + 16*4 , "P2.Team : " + string(global.P2_Team)); 
draw_text(400, 210 + 16*5 , "P3.Team : " + string(global.P3_Team)); 
draw_text(400, 210 + 16*6 , "P4.Team : " + string(global.P4_Team));

draw_text(227, 210 + 16*8, "F5: Host Game");
draw_text(227, 210 + 16*9 +4, "F6: Connect to address:");

//text box server IP input
draw_rectangle(400, 210 + 16*9 +2,530, 210 + 16*9 +2 + 17 ,true);
//sraw inside box
draw_text(404, 210 + 16*9 +4, string(global.serverAddr));

//draw input line
if (global.blinking and enteringIP)
draw_line(404 + string_width(global.serverAddr), 210 + 16*9 +4,404 + string_width(global.serverAddr), 210 + 16*9 +15);

//connection check
if client_isConnected draw_text(12,12, "client connected");
if server_isConnected draw_text(12,12, "server connected");

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="117">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///start game as client - Code to create the server - Chris

//modifyied - kelvin
serverMode = 0;

globalvar ipAddr;
globalvar portNum;
globalvar cSocket;
globalvar socketlist;

ipAddr = global.serverAddr;
portNum = 15316;
if(serverMode==0){
    socketlist = ds_list_create();
    cSocket = network_create_socket(network_socket_tcp);
    network_connect(cSocket, ipAddr, portNum);
}

instance_create(0,0,obj_NetworkControls);
room_goto(rm_game_Basic);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="116">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///server setup - Chris


//modifyied - kelvin
serverMode = 1;

globalvar ipAddr;
globalvar portNum;
globalvar cSocket;
globalvar socketlist;


//ipAddr = "192.168.1.74";
portNum = 15316;
if(serverMode==0){
    socketlist = ds_list_create();
    cSocket = network_create_socket(network_socket_tcp);
    network_connect(cSocket, ipAddr, portNum);
}

instance_create(0,0,obj_NetworkControls);
room_goto(rm_game_Basic);


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="115">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Local Continue
room_goto(rm_continue);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="113">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///start map editor
room_goto(rm_MapEditor);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="112">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///New Battle
room_goto(rm_game_Basic);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//start IP adress input

if enteringIP = false{
    global.serverAddr = "";
    keyboard_string = "";
    enteringIP = true;
    }
else enteringIP = false;



   

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
